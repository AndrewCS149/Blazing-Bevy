@inject IJSRuntime JS

@page "/"
<div>
    <iframe width="800" height="600" name="bevy" id="bevy_iframe">
        <html>

        <head>
            <meta charset="utf-8" />
            <style>
                body {
                    background: linear-gradient(135deg,
                            white 0%,
                            white 49%,
                            black 49%,
                            black 51%,
                            white 51%,
                            white 100%);
                    background-repeat: repeat;
                    background-size: 20px 20px;
                }

                canvas {
                    background-color: white;
                }
            </style>
        </head>

        </html>
    </iframe>
</div>

@code {
    private IJSObjectReference module;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            module = await JS.InvokeAsync<IJSObjectReference>("import", "./target/wasm.js");
            await module.InvokeVoidAsync("init");
        }
    }
}